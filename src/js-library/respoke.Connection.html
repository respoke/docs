<!DOCTYPE html><!-- sort the comments by name--><html lang="en" ng-app="padd"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no"><title>respoke.Connection - respoke.min.js Client Libary</title><meta name="keywords" content=""><meta name="keywords" content=""><link rel="shortcut icon" type="image/ico" href="https://www.respoke.io/favicon.ico"><link type="text/css" rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,700|Source+Code+Pro"><link rel="stylesheet" type="text/css" href="https://netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css"><link rel="stylesheet" type="text/css" href="https://netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap-theme.min.css"><link type="text/css" rel="stylesheet" href="https://www.respoke.io/min/production.css"><link rel="stylesheet" href="https://yandex.st/highlightjs/8.0/styles/docco.min.css"><link type="text/css" rel="stylesheet" href="/css/site.css"><script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.0-beta.13/angular.min.js"></script><script src="https://yandex.st/highlightjs/8.0/highlight.min.js"></script><script src="/js/padd.js"></script></head><body data-spy="scroll" data-target=".secondary-nav"><div id="wrap"><div class="public-site"><div ng-controller="NavController" class="topbar-wrapper opaque"><div bfind-class-foo="@isexcited" class="navigation"><div onclick="$(this).next().find('ul.nav-items').toggle()" class="nav-menu-button"><ul><li></li><li></li><li></li></ul></div><div class="nav-container"><a href="" class="www-link"><img src="https://www.respoke.io/images/logo_respoke.png" class="logo"></a><ul ng-show="menuVisibility !== false" class="nav-items"><li><a href="/#howitworks" class="www-link">How it works</a></li><li><a href="/#pricing" class="www-link">Pricing</a></li><li><a href="/">Docs</a></li><li><a href="http://community.respoke.io">Community</a></li><li><a href="/#login" class="visible-xs log-in">log in</a></li><li><a href="javascript:void(0)" onclick="logout()" class="visible-xs log-out">log out</a></li><li><a href="/#sign-up-form" class="visible-xs sign-up">Sign Up</a></li><li><a href="" class="visible-xs portal">PORTAL</a></li></ul><div ng-show="menuVisibility !== false" class="buttons"><a href="/#login" class="log-in www-link">log in</a><a href="javascript:void(0)" onclick="logout()" class="log-out">log out</a><a href="/#sign-up-form" class="sign-up www-link">Sign Up</a><a href="" class="portal">PORTAL</a></div></div></div></div><!-- Main Page Content--><region><div ng-controller="NavController" class="how-it-works"><div class="how-it-works-container"><div id="content"><div class="row"><div class="col-md-2">
<div id="main-sidebar-wrap">
  <ul id="main-sidebar" class="nav affix">
    <li>Getting Started
      <ul>
        <li ng-class="{ active: currentPage == '/' }"><a href="/">Quickstart</a></li>
        <li ng-class="{ active: currentPage === ('/tutorials/brokered-auth.html') }"><a href="/tutorials/brokered-auth.html">Authentication</a></li>
        <li ng-class="{ active: currentPage === ('/tutorials/calling-to-and-from-a-phone.html') }"><a href="/tutorials/calling-to-and-from-a-phone.html">Calling to and from a Phone</a></li>
        <li ng-class="{ active: currentPage === ('/tutorials/connecting-with-asterisk.html') }"><a href="/tutorials/connecting-with-asterisk.html">Connecting with Asterisk</a></li>
        <li ng-class="{ active: currentPage === ('/tutorials/direct-connection.html') }"><a href="/tutorials/direct-connection.html">Direct Connections</a></li>
        <li ng-class="{ active: currentPage === ('/tutorials/example-apps.html') }"><a href="/tutorials/example-apps.html">Example Apps</a></li>
        <li ng-class="{ active: currentPage === ('/tutorials/roles-and-permissions.html') }"><a href="/tutorials/roles-and-permissions.html">Roles &amp; Permissions</a></li>
        <li ng-class="{ active: currentPage === ('/tutorials/video-chat.html') }"><a href="/tutorials/video-chat.html">Video Chat</a></li>
      </ul>
    </li>
    <li>Reference
      <ul>
        <li ng-class="{ active: currentPage === ('/reference/changelog.html') }"><a href="/reference/changelog.html">Changelog</a></li>
        <li ng-class="{ active: currentPage === ('/reference/libraries.html') }"><a href="/reference/libraries.html">Libraries</a></li>
        <li ng-class="{ active: currentPage === ('/reference/respoke-js-logs.html') }"><a href="/reference/respoke-js-logs.html">Respoke.js Logs</a></li>
        <li ng-class="{ active: currentPage === ('/reference/rest-api.html') }"><a href="/reference/rest-api.html">REST API Routes</a></li>
      </ul>
    </li>
    <li>FAQs
      <ul>
        <li ng-class="{ active: currentPage === ('/faqs/general.html') }"><a href="/faqs/general.html">General</a></li>
        <li ng-class="{ active: currentPage === ('/faqs/pstn.html') }"><a href="/faqs/pstn.html">PSTN</a></li>
      </ul>
    </li>
    <li>JS Library
      <ul>
        <li ng-class="{ active: currentPage === ('/js-library/respoke.html') }"><a href="/js-library/respoke.html">respoke</a></li>
        <li ng-class="{ active: currentPage === ('/js-library/respoke.Call.html') }"><a href="/js-library/respoke.Call.html">Call</a></li>
        <li ng-class="{ active: currentPage === ('/js-library/respoke.Client.html') }"><a href="/js-library/respoke.Client.html">Client</a></li>
        <li ng-class="{ active: currentPage === ('/js-library/respoke.Connection.html') }"><a href="/js-library/respoke.Connection.html">Connection</a></li>
        <li ng-class="{ active: currentPage === ('/js-library/respoke.DirectConnection.html') }"><a href="/js-library/respoke.DirectConnection.html">DirectConnection</a></li>
        <li ng-class="{ active: currentPage === ('/js-library/respoke.Endpoint.html') }"><a href="/js-library/respoke.Endpoint.html">Endpoint</a></li>
        <li ng-class="{ active: currentPage === ('/js-library/respoke.EventEmitter.html') }"><a href="/js-library/respoke.EventEmitter.html">EventEmitter</a></li>
        <li ng-class="{ active: currentPage === ('/js-library/respoke.Group.html') }"><a href="/js-library/respoke.Group.html">Group</a></li>
        <li ng-class="{ active: currentPage === ('/js-library/respoke.LocalMedia.html') }"><a href="/js-library/respoke.LocalMedia.html">LocalMedia</a></li>
        <li ng-class="{ active: currentPage === ('/js-library/respoke.MediaStats.html') }"><a href="/js-library/respoke.MediaStats.html">MediaStats</a></li>
        <li ng-class="{ active: currentPage === ('/js-library/respoke.Presentable.html') }"><a href="/js-library/respoke.Presentable.html">Presentable</a></li>
        <li ng-class="{ active: currentPage === ('/js-library/respoke.RemoteMedia.html') }"><a href="/js-library/respoke.RemoteMedia.html">RemoteMedia</a></li>
      </ul>
    </li>
  </ul>
</div></div><div class="col-md-7"><div class="content-wrap"><button id="sidebar-toggle-button" onclick="$('#main-sidebar').toggle();$(this).find('i.glyphicon').toggleClass('hide');" class="btn btn xl btn-primary"><i class="glyphicon glyphicon-th-list"></i><i class="glyphicon glyphicon-remove hide"></i></button><h1 class="center">respoke.Connection</h1><div class="visible-xs visible-sm"><br><br><h2 class="visible-xs">respoke.Connection</h2><div data-stellar-ratio="0.02" class="secondary-nav affix"><ul class="nav"><li>Properties & Methods</li><li class="active"><a href="#respoke-Connection">Overview</a></li><li><a href="#getEndpoint">getEndpoint</a></li><li><a href="#id">id</a></li><li><a href="#sendMessage">sendMessage</a></li><li><a href="#startAudioCall">startAudioCall</a></li><li><a href="#startCall">startCall</a></li><li><a href="#startDirectConnection">startDirectConnection</a></li><li><a href="#startVideoCall">startVideoCall</a></li><li>&nbsp;</li></ul></div></div><div id="respoke-Connection" class="ctx top-margin-mlady"><h1 class="left">Overview</h1><p><strong>extends&nbsp;<a href="/js-library/respoke.Presentable.html"><code>respoke.Presentable</code></a></strong></p><div><p>A <code>respoke.Connection</code> always belongs to an Endpoint.</p>
<p>There is a distinction between Endpoint and Connection because an Endpoint can be authenticated 
from multiple devices, browsers, or browser tabs. Each of these separate authentications is a Connection. 
A Client can choose to interact with connections of the same endpoint in different ways.</p>
</div></div><div id="getEndpoint" class="ctx top-margin-mlady"><h1 class="left monospace"><a href="#getEndpoint"><span class="bold"> getEndpoint()</span></a></h1><p><strong>returns <code>respoke.Endpoint</code></strong></p><div><p>Get the Endpoint that this Connection belongs to.</p>
</div></div><div id="id" class="ctx top-margin-mlady"><h1 class="left monospace"><code>string</code><a href="#id" class="bold"> id</a></h1><div><p>The connection id.</p>
</div></div><div id="sendMessage" class="ctx top-margin-mlady"><h1 class="left monospace"><a href="#sendMessage"><span class="bold"> sendMessage(params)</span></a></h1><p><strong>returns <code>Promise|undefined</code></strong></p><div><p>Send a message to this connection of an endpoint. If the endpoint has mutliple connections, 
it will only receive the message at this connection.</p>
<p><strong>Using callbacks</strong> will disable promises.</p>
</div><h3>Arguments</h3><div class="row hidden-xs param"><div class="col-sm-4">Name</div><div class="col-sm-3">Type</div><div class="col-sm-5"></div></div><div class="row param"><div class="col-sm-4"><code>params</code></div><div class="col-sm-3"><strong>object</strong></div><div class="col-sm-5"></div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.message</code></div><div class="col-sm-3"><strong>string</strong></div><div class="col-sm-5"></div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.onSuccess</code></div><div class="col-sm-3"><strong>respoke.Client.successHandler</strong></div><div class="col-sm-5">Success handler for this invocation
of this method only.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.onError</code></div><div class="col-sm-3"><strong>respoke.Client.errorHandler</strong></div><div class="col-sm-5">Error handler for this invocation of this
method only.</div></div><br class="visible-xs"></div><div id="startAudioCall" class="ctx top-margin-mlady"><h1 class="left monospace"><a href="#startAudioCall"><span class="bold"> startAudioCall(params)</span></a></h1><p><strong>returns <code>respoke.Call</code></strong></p><div><p>Create a new audio-only call.</p>
</div><h3>Arguments</h3><div class="row hidden-xs param"><div class="col-sm-4">Name</div><div class="col-sm-3">Type</div><div class="col-sm-5"></div></div><div class="row param"><div class="col-sm-4"><code>params</code></div><div class="col-sm-3"><strong>object</strong></div><div class="col-sm-5"></div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.servers</code></div><div class="col-sm-3"><strong>RTCServers</strong></div><div class="col-sm-5"></div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.onError</code></div><div class="col-sm-3"><strong>respoke.Call.onError</strong></div><div class="col-sm-5">Callback for errors that happen during call setup or
media renegotiation.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.onLocalMedia</code></div><div class="col-sm-3"><strong>respoke.Call.onLocalMedia</strong></div><div class="col-sm-5">Callback for receiving an HTML5 Video
element with the local audio and/or video attached.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.onConnect</code></div><div class="col-sm-3"><strong>respoke.Call.onConnect</strong></div><div class="col-sm-5">Callback for receiving an HTML5 Video
element with the remote
audio and/or video attached.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.onHangup</code></div><div class="col-sm-3"><strong>respoke.Call.onHangup</strong></div><div class="col-sm-5">Callback for being notified when the call has been
hung up.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.onAllow</code></div><div class="col-sm-3"><strong>respoke.Call.onAllow</strong></div><div class="col-sm-5">When setting up a call, receive notification that the
browser has granted access to media.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.onMute</code></div><div class="col-sm-3"><strong>respoke.Call.onMute</strong></div><div class="col-sm-5">Callback for changing the mute state on any type of media.
This callback will be called when media is muted or unmuted.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.onAnswer</code></div><div class="col-sm-3"><strong>respoke.Call.onAnswer</strong></div><div class="col-sm-5">Callback for when the callee answers the call.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.onApprove</code></div><div class="col-sm-3"><strong>respoke.Call.onApprove</strong></div><div class="col-sm-5">Callback for when the user approves local media. This
callback will be called whether or not the approval was based on user feedback. I. e., it will be called even if
the approval was automatic.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.onRequestingMedia</code></div><div class="col-sm-3"><strong>respoke.Call.onRequestingMedia</strong></div><div class="col-sm-5">Callback for when the app is waiting
for the user to give permission to start getting audio or video.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.onStats</code></div><div class="col-sm-3"><strong>respoke.MediaStatsParser.statsHandler</strong></div><div class="col-sm-5">Callback for receiving statistical
information.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.previewLocalMedia</code></div><div class="col-sm-3"><strong>respoke.Call.previewLocalMedia</strong></div><div class="col-sm-5">A function to call if the developer
wants to perform an action between local media becoming available and calling approve().</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.receiveOnly</code></div><div class="col-sm-3"><strong>boolean</strong></div><div class="col-sm-5">whether or not we accept media</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.sendOnly</code></div><div class="col-sm-3"><strong>boolean</strong></div><div class="col-sm-5">whether or not we send media</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.needDirectConnection</code></div><div class="col-sm-3"><strong>boolean</strong></div><div class="col-sm-5">flag to enable skipping media &amp; opening direct connection.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.forceTurn</code></div><div class="col-sm-3"><strong>boolean</strong></div><div class="col-sm-5">If true, media is not allowed to flow peer-to-peer and must flow through
relay servers. If it cannot flow through relay servers, the call will fail.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.disableTurn</code></div><div class="col-sm-3"><strong>boolean</strong></div><div class="col-sm-5">If true, media is not allowed to flow through relay servers; it is
required to flow peer-to-peer. If it cannot, the call will fail.</div></div><br class="visible-xs"></div><div id="startCall" class="ctx top-margin-mlady"><h1 class="left monospace"><a href="#startCall"><span class="bold"> startCall(params)</span></a></h1><p><strong>returns <code>respoke.Call</code></strong></p><div><p>Create a new Call for a voice and/or video call this particular connection, only. The Call cannot be answered
by another connection of this Endpoint.</p>
</div><h3>Arguments</h3><div class="row hidden-xs param"><div class="col-sm-4">Name</div><div class="col-sm-3">Type</div><div class="col-sm-5"></div></div><div class="row param"><div class="col-sm-4"><code>params</code></div><div class="col-sm-3"><strong>object</strong></div><div class="col-sm-5"></div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.onError</code></div><div class="col-sm-3"><strong>respoke.Call.onError</strong></div><div class="col-sm-5">Callback for errors that happen during call setup or
media renegotiation.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.onLocalMedia</code></div><div class="col-sm-3"><strong>respoke.Call.onLocalMedia</strong></div><div class="col-sm-5">Callback for receiving an HTML5 Video
element with the local audio and/or video attached.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.onConnect</code></div><div class="col-sm-3"><strong>respoke.Call.onConnect</strong></div><div class="col-sm-5">Callback for receiving an HTML5 Video
element with the remote
audio and/or video attached.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.onHangup</code></div><div class="col-sm-3"><strong>respoke.Call.onHangup</strong></div><div class="col-sm-5">Callback for being notified when the call has been
hung up.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.onAllow</code></div><div class="col-sm-3"><strong>respoke.Call.onAllow</strong></div><div class="col-sm-5">When setting up a call, receive notification that the
browser has granted access to media.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.onMute</code></div><div class="col-sm-3"><strong>respoke.Call.onMute</strong></div><div class="col-sm-5">Callback for changing the mute state on any type of media.
This callback will be called when media is muted or unmuted.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.onAnswer</code></div><div class="col-sm-3"><strong>respoke.Call.onAnswer</strong></div><div class="col-sm-5">Callback for when the callee answers the call.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.onApprove</code></div><div class="col-sm-3"><strong>respoke.Call.onApprove</strong></div><div class="col-sm-5">Callback for when the user approves local media. This
callback will be called whether or not the approval was based on user feedback. I. e., it will be called even if
the approval was automatic.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.onRequestingMedia</code></div><div class="col-sm-3"><strong>respoke.Call.onRequestingMedia</strong></div><div class="col-sm-5">Callback for when the app is waiting
for the user to give permission to start getting audio or video.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.onStats</code></div><div class="col-sm-3"><strong>respoke.MediaStatsParser.statsHandler</strong></div><div class="col-sm-5">Callback for receiving statistical
information.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.previewLocalMedia</code></div><div class="col-sm-3"><strong>respoke.Call.previewLocalMedia</strong></div><div class="col-sm-5">A function to call if the developer
wants to perform an action between local media becoming available and calling approve().</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.servers</code></div><div class="col-sm-3"><strong>RTCServers</strong></div><div class="col-sm-5"></div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.constraints</code></div><div class="col-sm-3"><strong>RTCConstraints</strong></div><div class="col-sm-5"></div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.receiveOnly</code></div><div class="col-sm-3"><strong>boolean</strong></div><div class="col-sm-5">whether or not we accept media</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.sendOnly</code></div><div class="col-sm-3"><strong>boolean</strong></div><div class="col-sm-5">whether or not we send media</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.needDirectConnection</code></div><div class="col-sm-3"><strong>boolean</strong></div><div class="col-sm-5">flag to enable skipping media &amp; opening direct connection.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.forceTurn</code></div><div class="col-sm-3"><strong>boolean</strong></div><div class="col-sm-5">If true, media is not allowed to flow peer-to-peer and must flow through
relay servers. If it cannot flow through relay servers, the call will fail.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.disableTurn</code></div><div class="col-sm-3"><strong>boolean</strong></div><div class="col-sm-5">If true, media is not allowed to flow through relay servers; it is
required to flow peer-to-peer. If it cannot, the call will fail.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.videoLocalElement</code></div><div class="col-sm-3"><strong>HTMLVideoElement</strong></div><div class="col-sm-5">Pass in an optional html video element to have local video attached to it.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.videoRemoteElement</code></div><div class="col-sm-3"><strong>HTMLVideoElement</strong></div><div class="col-sm-5">Pass in an optional html video element to have remote video attached to it.</div></div><br class="visible-xs"></div><div id="startDirectConnection" class="ctx top-margin-mlady"><h1 class="left monospace"><a href="#startDirectConnection"><span class="bold"> startDirectConnection(params)</span></a></h1><p><strong>returns <code>respoke.DirectConnection</code></strong></p><div><p>Create a new DirectConnection with this particular connection, only. The DirectConnection cannot be answered
by another connection of this Endpoint.  This method creates a new Call as well, attaching this
DirectConnection to it for the purposes of creating a peer-to-peer link for sending data such as messages to
the other endpoint. Information sent through a DirectConnection is not handled by the cloud infrastructure.</p>
</div><h3>Arguments</h3><div class="row hidden-xs param"><div class="col-sm-4">Name</div><div class="col-sm-3">Type</div><div class="col-sm-5"></div></div><div class="row param"><div class="col-sm-4"><code>params</code></div><div class="col-sm-3"><strong>object</strong></div><div class="col-sm-5"></div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.onSuccess</code></div><div class="col-sm-3"><strong>respoke.Call.directConnectionSuccessHandler</strong></div><div class="col-sm-5">Success handler for this
invocation of this method only.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.onError</code></div><div class="col-sm-3"><strong>respoke.Client.errorHandler</strong></div><div class="col-sm-5">Error handler for this invocation of this
method only.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.onStart</code></div><div class="col-sm-3"><strong>respoke.DirectConnection.onStart</strong></div><div class="col-sm-5">A callback for when setup of the direct
connection begins. The direct connection will not be open yet.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.onOpen</code></div><div class="col-sm-3"><strong>respoke.DirectConnection.onOpen</strong></div><div class="col-sm-5">A callback for receiving notification of when
the DirectConnection is open and ready to be used.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.onError</code></div><div class="col-sm-3"><strong>respoke.DirectConnection.onError</strong></div><div class="col-sm-5">Callback for errors setting up the direct
connection.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.onClose</code></div><div class="col-sm-3"><strong>respoke.DirectConnection.onClose</strong></div><div class="col-sm-5">A callback for receiving notification of
when the DirectConnection is closed and the two Endpoints are disconnected.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.onMessage</code></div><div class="col-sm-3"><strong>respoke.DirectConnection.onMessage</strong></div><div class="col-sm-5">A callback for receiving messages sent
through the DirectConnection.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.onAccept</code></div><div class="col-sm-3"><strong>respoke.DirectConnection.onAccept</strong></div><div class="col-sm-5">Callback for when the user accepts the
request for a direct connection and setup begins.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.servers</code></div><div class="col-sm-3"><strong>RTCServers</strong></div><div class="col-sm-5">Additional ICE/STUN/TURN servers to use in connecting.</div></div><br class="visible-xs"></div><div id="startVideoCall" class="ctx top-margin-mlady"><h1 class="left monospace"><a href="#startVideoCall"><span class="bold"> startVideoCall(params)</span></a></h1><p><strong>returns <code>respoke.Call</code></strong></p><div><p>Create a new call with audio and video.</p>
</div><h3>Arguments</h3><div class="row hidden-xs param"><div class="col-sm-4">Name</div><div class="col-sm-3">Type</div><div class="col-sm-5"></div></div><div class="row param"><div class="col-sm-4"><code>params</code></div><div class="col-sm-3"><strong>object</strong></div><div class="col-sm-5"></div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.servers</code></div><div class="col-sm-3"><strong>RTCServers</strong></div><div class="col-sm-5"></div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.onError</code></div><div class="col-sm-3"><strong>respoke.Call.onError</strong></div><div class="col-sm-5">Callback for errors that happen during call setup or
media renegotiation.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.onLocalMedia</code></div><div class="col-sm-3"><strong>respoke.Call.onLocalMedia</strong></div><div class="col-sm-5">Callback for receiving an HTML5 Video
element with the local audio and/or video attached.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.onConnect</code></div><div class="col-sm-3"><strong>respoke.Call.onConnect</strong></div><div class="col-sm-5">Callback for receiving an HTML5 Video
element with the remote
audio and/or video attached.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.onHangup</code></div><div class="col-sm-3"><strong>respoke.Call.onHangup</strong></div><div class="col-sm-5">Callback for being notified when the call has
been hung up.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.onAllow</code></div><div class="col-sm-3"><strong>respoke.Call.onAllow</strong></div><div class="col-sm-5">When setting up a call, receive notification that the
browser has granted access to media.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.onMute</code></div><div class="col-sm-3"><strong>respoke.Call.onMute</strong></div><div class="col-sm-5">Callback for changing the mute state on any type of media.
This callback will be called when media is muted or unmuted.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.onAnswer</code></div><div class="col-sm-3"><strong>respoke.Call.onAnswer</strong></div><div class="col-sm-5">Callback for when the callee answers the call.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.onApprove</code></div><div class="col-sm-3"><strong>respoke.Call.onApprove</strong></div><div class="col-sm-5">Callback for when the user approves local media. This
callback will be called whether or not the approval was based on user feedback. I. e., it will be called even if
the approval was automatic.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.onRequestingMedia</code></div><div class="col-sm-3"><strong>respoke.Call.onRequestingMedia</strong></div><div class="col-sm-5">Callback for when the app is waiting
for the user to give permission to start getting audio or video.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.onStats</code></div><div class="col-sm-3"><strong>respoke.MediaStatsParser.statsHandler</strong></div><div class="col-sm-5">Callback for receiving statistical
information.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.receiveOnly</code></div><div class="col-sm-3"><strong>boolean</strong></div><div class="col-sm-5">whether or not we accept media</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.sendOnly</code></div><div class="col-sm-3"><strong>boolean</strong></div><div class="col-sm-5">whether or not we send media</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.needDirectConnection</code></div><div class="col-sm-3"><strong>boolean</strong></div><div class="col-sm-5">flag to enable skipping media &amp; opening direct connection.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.forceTurn</code></div><div class="col-sm-3"><strong>boolean</strong></div><div class="col-sm-5">If true, media is not allowed to flow peer-to-peer and must flow through
relay servers. If it cannot flow through relay servers, the call will fail.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4"><code>params.disableTurn</code></div><div class="col-sm-3"><strong>boolean</strong></div><div class="col-sm-5">If true, media is not allowed to flow through relay servers; it is
required to flow peer-to-peer. If it cannot, the call will fail.</div></div><br class="visible-xs"></div><br><br><br><br></div></div><div class="col-md-3"><div class="hidden-xs hidden-sm"><h2 class="visible-xs">respoke.Connection</h2><div data-stellar-ratio="0.02" class="secondary-nav affix"><ul class="nav"><li>Properties & Methods</li><li class="active"><a href="#respoke-Connection">Overview</a></li><li><a href="#getEndpoint">getEndpoint</a></li><li><a href="#id">id</a></li><li><a href="#sendMessage">sendMessage</a></li><li><a href="#startAudioCall">startAudioCall</a></li><li><a href="#startCall">startCall</a></li><li><a href="#startDirectConnection">startDirectConnection</a></li><li><a href="#startVideoCall">startVideoCall</a></li><li>&nbsp;</li></ul></div></div></div></div></div></div></div></region></div><!-- Footer--><region><footer><div class="content-wrap"><section class="copy"><div class="footer"><div class="footer-container"><div class="footer-links"><a href="http://digium.com/respoke"><img src="/images/digium_white.png" class="digium-logo"></a></div><div class="footer-content"><p class="copy">Copyright &copy; 2014 D.C.S, LLC</p><p class="copy"><a href="mailto:info@respoke.io">info@respoke.io</a></p></div><div class="footer-links social-links"><a href="https://twitter.com/respoke"><span class="fa fa-twitter"></span></a><a href="https://www.facebook.com/respokeIO"><span class="fa fa-facebook"></span></a><a href="https://plus.google.com/110089434291590810767" rel="publisher"><span class="fa fa-google-plus"></span></a></div></div></div></section></div></footer></region></div></body></html><script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script><script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/stellar.js/0.6.2/jquery.stellar.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script><script>// Scrollspy
// TODO: use angular-ui boostrap version instead
$('body').scrollspy({ target: '.secondary-nav', offset: 150 });

// parallax by http://markdalgleish.com/projects/stellar.js/
$.stellar();

// affixing the sidebar at high resolutions
var resizeEvent = function(event){
  if($(window).width() > 990) {
      affixLeftSidebar();
  }
};
window.addEventListener('resize', resizeEvent);
resizeEvent();

// Showing and login and signup
(function () {
    var token = $.cookie('token');
    var $login = $('.log-in');
    var $logout = $('.log-out');
    var $signup = $('.sign-up');
    var $portal = $('.portal');
    var $wwwlink = $('.www-link');
    var $logo = $('img.logo');
    
    function loggedIn() {
        $login.remove();
        $signup.remove();
        
        $portal.css('display', 'inline-block');
        $logout.css('display', 'inline-block');
    }
    function notLoggedIn() {
        $portal.remove();
        $logout.remove();
        
        //- $login.css('display', 'inline-block');
        //- $signup.css('display', 'inline-block');
    }
    
    var apiBase = window.location.host.replace('docs', 'api').replace(':2003', ':2000');
    var apiUrl = apiBase.indexOf('testing.digiumlabs.com') !== -1 ? 'http://' : 'https://';
    apiUrl += apiBase + '/v1/admins/me';
    var publicBase = window.location.host.replace('docs', 'www').replace(':2003', ':2001');
    var publicUrl = publicBase.indexOf('testing.digiumlabs.com') !== -1 ? 'http://' : 'https://';
    publicUrl += publicBase;
    var portalBase = window.location.host.replace('docs', 'portal').replace(':2003', ':2002');
    var portalUrl = portalBase.indexOf('testing.digiumlabs.com') !== -1 ? 'http://' : 'https://';
    portalUrl += portalBase;
    
    if (token) {
        $.ajax({
            url: apiUrl,
            type: 'GET',
            headers: {
                'Admin-Token': token
            },
            success: loggedIn,
            error: notLoggedIn
        });
    }
    else {
        notLoggedIn();
    }
    
    $portal.attr('href', portalUrl + $portal.attr('href'));
    $wwwlink.each(function () {
        $(this).attr('href', publicUrl + $(this).attr('href'))
    });
    $logo.attr('src', publicUrl + $logo.attr('src').replace('https://www.respoke.io',''));
})();

function logout() {
    $.removeCookie('token', { domain: '.' + window.location.hostname.split('.').slice(-2).join('.') });
    window.location.reload();
}

$.ajax({
      url: '//d3px1qgagsf6ei.cloudfront.net/Scripts/f772acdb-7c45-430c-8c5a-28c3bcbb420e',
      crossDomain: true,
      dataType: 'script',
      success: function () {
          Payboard.Events.trackPage;
      },
      error: function () {
          console.log("There was an error retrieving the payboard tracking script");
      }
});
</script>